project_id = "dzrfbulwiqhzxxbcnzhn"

# =============================================================================
# V3.0 ENTERPRISE SECURITY CONFIGURATION
# verify_jwt = true for ALL functions that consume AI or CPU resources
# verify_jwt = false ONLY for external webhooks (Replicate callbacks, etc.)
# =============================================================================

# ═══════════════════════════════════════════════════════════════════════════════
# CANONICAL GENERATION CORE (V3.0 ENTERPRISE)
# These functions MUST be protected - they consume expensive AI resources
# ═══════════════════════════════════════════════════════════════════════════════

[functions.generate-script]
# Gateway JWT disabled; function enforces auth internally via v3RequireAuth
verify_jwt = false

[functions.script-generate]
# THIN ALIAS to generate-script - Gateway JWT disabled; forwards auth header
verify_jwt = false

[functions.parse-script]
# Gateway JWT disabled; function enforces auth internally via v3RequireAuth
verify_jwt = false

[functions.develop-structure]
verify_jwt = true

[functions.batch-orchestrator]
verify_jwt = true

# ═══════════════════════════════════════════════════════════════════════════════
# OUTLINE & SCRIPT UTILITIES (V3.0 PROTECTED)
# ═══════════════════════════════════════════════════════════════════════════════

[functions.generate-outline-light]
# Temporarily disable gateway JWT verification; function enforces auth internally (v3RequireAuth)
verify_jwt = false

[functions.script-breakdown]
verify_jwt = false

[functions.script-breakdown-pro]
verify_jwt = false

[functions.script-doctor]
verify_jwt = true

[functions.script-freeze]
verify_jwt = true

[functions.script-qc-outline]
verify_jwt = true

[functions.script-rewrite-outline]
verify_jwt = true

[functions.script-generate-outline]
verify_jwt = true

[functions.script-generate-screenplay]
verify_jwt = true

[functions.script-generate-episode]
verify_jwt = true

[functions.generate-episode-detailed]
verify_jwt = true

[functions.episode-generate-batch]
verify_jwt = true

[functions.generate-teasers]
verify_jwt = true

# ═══════════════════════════════════════════════════════════════════════════════
# ASSET GENERATION (V3.0 PROTECTED - Expensive AI Operations)
# ═══════════════════════════════════════════════════════════════════════════════

[functions.generate-character]
verify_jwt = false

[functions.generate-location]
verify_jwt = true

[functions.generate-outfit]
verify_jwt = true

[functions.generate-scenes]
# Gateway JWT disabled; function enforces auth internally
verify_jwt = false

[functions.generate-shot]
verify_jwt = true

[functions.generate-shot-details]
verify_jwt = true

[functions.generate-keyframe]
verify_jwt = true

[functions.generate-visual-dna]
# Gateway JWT disabled; function validates auth internally to avoid "Invalid JWT" at gateway layer
verify_jwt = false

[functions.generate-technical-prompt]
verify_jwt = true

[functions.generate-run]
# Gateway JWT disabled; function enforces auth internally (validates Authorization header)
verify_jwt = false

[functions.batch-generate]
verify_jwt = true

[functions.analyze-character-references]
verify_jwt = true

# ═══════════════════════════════════════════════════════════════════════════════
# VIDEO ENGINES (V3.0 PROTECTED - Expensive Operations)
# ═══════════════════════════════════════════════════════════════════════════════

[functions.veo_start]
verify_jwt = true

[functions.veo_poll]
verify_jwt = true

[functions.kling_start]
verify_jwt = true

[functions.kling_poll]
verify_jwt = true

[functions.engine-shootout]
verify_jwt = true

# ═══════════════════════════════════════════════════════════════════════════════
# QC & VALIDATION (V3.0 PROTECTED)
# ═══════════════════════════════════════════════════════════════════════════════

[functions.qc-visual-identity]
verify_jwt = true

[functions.validate-continuity-locks]
verify_jwt = true

[functions.pre-render-qc-gate]
verify_jwt = true

# ═══════════════════════════════════════════════════════════════════════════════
# UTILITIES & HELPERS (V3.0 PROTECTED)
# ═══════════════════════════════════════════════════════════════════════════════

[functions.entity-builder]
verify_jwt = true

[functions.shot-suggest]
verify_jwt = true

[functions.audio-design]
verify_jwt = true

[functions.export-bible]
verify_jwt = true

[functions.production-director]
verify_jwt = true

[functions.production-engine]
verify_jwt = true

# ═══════════════════════════════════════════════════════════════════════════════
# DEVELOPER MODE (Protected)
# ═══════════════════════════════════════════════════════════════════════════════

[functions.unlock-developer-mode]
verify_jwt = true

[functions.disable-developer-mode]
verify_jwt = true

# ═══════════════════════════════════════════════════════════════════════════════
# LORA TRAINING (Protected for start, public for webhook)
# ═══════════════════════════════════════════════════════════════════════════════

[functions.train-character-lora]
verify_jwt = true

[functions.lora-training-webhook]
# External webhook from Replicate - MUST be public
verify_jwt = false

# ═══════════════════════════════════════════════════════════════════════════════
# FORGE (AI Assistant - Protected)
# ═══════════════════════════════════════════════════════════════════════════════

[functions.forge-analytics]
verify_jwt = true

[functions.forge-generate-visual]
verify_jwt = true

[functions.forge-analyze-image]
verify_jwt = true

[functions.forge-stt]
# Gateway JWT disabled; function enforces auth internally via requireAuthOrDemo
verify_jwt = false

[functions.forge-tts]
# Gateway JWT disabled; function enforces auth internally via requireAuthOrDemo
verify_jwt = false

# ═══════════════════════════════════════════════════════════════════════════════
# VISUAL BIBLE (V3.1 - Style Analysis)
# ═══════════════════════════════════════════════════════════════════════════════

[functions.analyze-style-reference]
verify_jwt = false

# ═══════════════════════════════════════════════════════════════════════════════
# SCENE CARDS PIPELINE (V3.2 - Canon-First Generation)
# ═══════════════════════════════════════════════════════════════════════════════

[functions.generate-scene-cards]
verify_jwt = true

[functions.expand-scene-card]
verify_jwt = true
