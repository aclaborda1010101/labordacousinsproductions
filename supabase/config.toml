project_id = "dzrfbulwiqhzxxbcnzhn"

[functions.clone-database]
verify_jwt = false

# =============================================================================
# V3.0 ENTERPRISE SECURITY CONFIGURATION
# verify_jwt = true for ALL functions that consume AI or CPU resources
# verify_jwt = false ONLY for external webhooks (Replicate callbacks, etc.)
# =============================================================================

# ═══════════════════════════════════════════════════════════════════════════════
# CANONICAL GENERATION CORE (V3.0 ENTERPRISE)
# These functions MUST be protected - they consume expensive AI resources
# ═══════════════════════════════════════════════════════════════════════════════

[functions.generate-script]
# Gateway JWT disabled; function enforces auth internally via v3RequireAuth
verify_jwt = false

[functions.script-generate]
# THIN ALIAS to generate-script - Gateway JWT disabled; forwards auth header
verify_jwt = false

[functions.parse-script]
# Gateway JWT disabled; function enforces auth internally via v3RequireAuth
verify_jwt = false

[functions.develop-structure]
verify_jwt = true

[functions.batch-orchestrator]
verify_jwt = true

# ═══════════════════════════════════════════════════════════════════════════════
# OUTLINE & SCRIPT UTILITIES (V3.0 PROTECTED)
# ═══════════════════════════════════════════════════════════════════════════════

[functions.generate-outline-light]
# V3 Async: Fast enqueue endpoint - validates auth internally
verify_jwt = false

[functions.generate-outline-direct]
# V3.1 SIMPLIFIED: Single-call outline generation with flexible density profiles
# No chunking, no micro-stages - just one powerful prompt to the LLM
verify_jwt = false

[functions.outline-worker]
# V3 Async: Step-based worker - validates auth internally
verify_jwt = false

[functions.outline-upgrade]
# Showrunner upgrade: transforms outline light to deep dramatic structure using gpt-5.2
verify_jwt = false

[functions.script-breakdown]
verify_jwt = false

[functions.script-breakdown-pro]
verify_jwt = false

[functions.script-doctor]
# Gateway JWT disabled; function enforces auth internally
verify_jwt = false

[functions.script-freeze]
verify_jwt = true

[functions.script-qc-outline]
verify_jwt = true

[functions.script-rewrite-outline]
verify_jwt = true

[functions.script-generate-outline]
verify_jwt = true

[functions.script-generate-screenplay]
verify_jwt = true

[functions.script-generate-episode]
verify_jwt = true

[functions.generate-episode-detailed]
verify_jwt = true

[functions.episode-generate-batch]
verify_jwt = true

[functions.generate-teasers]
# Gateway JWT disabled; function enforces auth internally
verify_jwt = false

[functions.generate-dialogues-batch]
# Gateway JWT disabled; function enforces auth internally
verify_jwt = false

# ═══════════════════════════════════════════════════════════════════════════════
# ASSET GENERATION (V3.0 PROTECTED - Expensive AI Operations)
# ═══════════════════════════════════════════════════════════════════════════════

[functions.generate-character]
verify_jwt = false

[functions.generate-location]
# Gateway JWT disabled; function enforces auth internally
verify_jwt = false

[functions.generate-outfit]
# Gateway JWT disabled; function enforces auth internally
verify_jwt = false

[functions.generate-scenes]
# Gateway JWT disabled; function enforces auth internally
verify_jwt = false

[functions.generate-shot]
# Gateway JWT disabled; function enforces auth internally via requireAuthOrDemo
verify_jwt = false

[functions.generate-shot-details]
# Gateway JWT disabled; function called in parallel during pipeline generation
verify_jwt = false

[functions.generate-keyframe]
# Gateway JWT disabled; function enforces auth internally via requireAuthOrDemo
verify_jwt = false

[functions.generate-visual-dna]
# Gateway JWT disabled; function validates auth internally to avoid "Invalid JWT" at gateway layer
verify_jwt = false

[functions.generate-technical-prompt]
verify_jwt = true

[functions.generate-run]
# Gateway JWT disabled; function enforces auth internally (validates Authorization header)
verify_jwt = false

[functions.batch-generate]
verify_jwt = true

[functions.analyze-character-references]
verify_jwt = true

# ═══════════════════════════════════════════════════════════════════════════════
# VIDEO ENGINES (V3.0 PROTECTED - Expensive Operations)
# ═══════════════════════════════════════════════════════════════════════════════

[functions.veo_start]
# Gateway JWT disabled; function enforces auth internally via requireAuthOrDemo
verify_jwt = false

[functions.veo_poll]
# Gateway JWT disabled; function enforces auth internally via requireAuthOrDemo
verify_jwt = false

[functions.kling_start]
# Gateway JWT disabled; function enforces auth internally via requireAuthOrDemo
verify_jwt = false

[functions.kling_poll]
# Gateway JWT disabled; function enforces auth internally via requireAuthOrDemo
verify_jwt = false

[functions.runway_start]
# Gateway JWT disabled; function enforces auth internally via requireAuthOrDemo
verify_jwt = false

[functions.runway_poll]
# Gateway JWT disabled; function enforces auth internally via requireAuthOrDemo
verify_jwt = false

[functions.engine-shootout]
verify_jwt = true

# ═══════════════════════════════════════════════════════════════════════════════
# QC & VALIDATION (V3.0 PROTECTED)
# ═══════════════════════════════════════════════════════════════════════════════

[functions.qc-visual-identity]
verify_jwt = true

[functions.validate-continuity-locks]
verify_jwt = true

[functions.pre-render-qc-gate]
verify_jwt = true

# ═══════════════════════════════════════════════════════════════════════════════
# UTILITIES & HELPERS (V3.0 PROTECTED)
# ═══════════════════════════════════════════════════════════════════════════════

[functions.entity-builder]
# Gateway JWT disabled; function enforces auth internally
verify_jwt = false

[functions.shot-suggest]
# Gateway JWT disabled; function enforces auth internally
verify_jwt = false

[functions.audio-design]
verify_jwt = true

[functions.export-bible]
# Gateway JWT disabled; function enforces auth internally
verify_jwt = false

[functions.production-director]
verify_jwt = true

[functions.production-engine]
verify_jwt = true

# ═══════════════════════════════════════════════════════════════════════════════
# DEVELOPER MODE (Protected)
# ═══════════════════════════════════════════════════════════════════════════════

[functions.unlock-developer-mode]
verify_jwt = true

[functions.disable-developer-mode]
verify_jwt = true

# ═══════════════════════════════════════════════════════════════════════════════
# LORA TRAINING (Protected for start, public for webhook)
# ═══════════════════════════════════════════════════════════════════════════════

[functions.train-character-lora]
verify_jwt = true

[functions.lora-training-webhook]
# External webhook from Replicate - MUST be public
verify_jwt = false

# ═══════════════════════════════════════════════════════════════════════════════
# FORGE (AI Assistant - Protected)
# ═══════════════════════════════════════════════════════════════════════════════

[functions.forge-analytics]
verify_jwt = true

[functions.forge-generate-visual]
verify_jwt = true

[functions.forge-analyze-image]
verify_jwt = true

[functions.forge-stt]
# Gateway JWT disabled; function enforces auth internally via requireAuthOrDemo
verify_jwt = false

[functions.forge-tts]
# Gateway JWT disabled; function enforces auth internally via requireAuthOrDemo
verify_jwt = false

# ═══════════════════════════════════════════════════════════════════════════════
# VISUAL BIBLE (V3.1 - Style Analysis)
# ═══════════════════════════════════════════════════════════════════════════════

[functions.analyze-style-reference]
verify_jwt = false

# ═══════════════════════════════════════════════════════════════════════════════
# SCENE CARDS PIPELINE (V3.2 - Canon-First Generation)
# ═══════════════════════════════════════════════════════════════════════════════

[functions.generate-scene-cards]
verify_jwt = true

[functions.expand-scene-card]
verify_jwt = true

# ═══════════════════════════════════════════════════════════════════════════════
# QC IMPROVEMENT (V3.3 - Intelligent QC)
# ═══════════════════════════════════════════════════════════════════════════════

[functions.improve-character-qc]
# Gateway JWT disabled; function enforces auth internally
verify_jwt = false

# ═══════════════════════════════════════════════════════════════════════════════
# MULTI-ANGLE GENERATION (V3.4 - Meta-Prompting Pipeline)
# ═══════════════════════════════════════════════════════════════════════════════

[functions.generate-angle-variants]
# Gateway JWT disabled; function enforces auth internally
verify_jwt = false

# ═══════════════════════════════════════════════════════════════════════════════
# TECHNICAL DOCUMENT PIPELINE (V3.5 - Storyboard → Technical Doc → Keyframes)
# ═══════════════════════════════════════════════════════════════════════════════

[functions.generate-storyboard]
# Gateway JWT disabled; function enforces auth internally
verify_jwt = false

[functions.regenerate-storyboard-panel]
# Single panel image regeneration - Gateway JWT disabled
verify_jwt = false

[functions.generate-technical-doc]
# Gateway JWT disabled; function enforces auth internally
verify_jwt = false

# ═══════════════════════════════════════════════════════════════════════════════
# ENTITY MATERIALIZATION (V3.6 - Outline → Bible Hydration)
# ═══════════════════════════════════════════════════════════════════════════════

[functions.materialize-entities]
# Gateway JWT disabled; function enforces auth internally via requireAuthOrDemo
verify_jwt = false

# ═══════════════════════════════════════════════════════════════════════════════
# DENSITY VALIDATION (V3.7 - Narrative Density Gate)
# ═══════════════════════════════════════════════════════════════════════════════

[functions.density-precheck]
# Validates outline density before script generation
verify_jwt = false

[functions.outline-patch]
# Auto-repairs outlines to meet density requirements
verify_jwt = false

# ═══════════════════════════════════════════════════════════════════════════════
# PRODUCER NOTES (V15 - Studio Executive Feedback)
# ═══════════════════════════════════════════════════════════════════════════════

[functions.producer-notes]
# Gateway JWT disabled; function enforces auth internally
verify_jwt = false

# ═══════════════════════════════════════════════════════════════════════════════
# EXPORT / MIGRATION (Data Export Tools)
# ═══════════════════════════════════════════════════════════════════════════════

[functions.export-migration-bundle]
# Gateway JWT disabled; function enforces auth internally
verify_jwt = false

# ═══════════════════════════════════════════════════════════════════════════════
# SHOWRUNNER IA SYSTEM (Coherence & Editorial Intelligence)
# ═══════════════════════════════════════════════════════════════════════════════

[functions.showrunner-decide]
# Makes editorial decisions before storyboard generation
# Ensures narrative and visual coherence between scenes
verify_jwt = false

[functions.update-visual-memory]
# Updates visual context memory after scene approval
# Tracks visual patterns and generates constraints for continuity
verify_jwt = false

# ═══════════════════════════════════════════════════════════════════════════════
# SHOWRUNNER SURGERY (V2 - Async with Persistence)
# ═══════════════════════════════════════════════════════════════════════════════

[functions.showrunner-surgery]
# Analyzes and rewrites script applying 5 dramaturgical rules
# Gateway JWT disabled; function enforces auth internally
verify_jwt = false

[functions.apply-showrunner-surgery]
# Applies or rejects approved surgery changes to script
# Gateway JWT disabled; function enforces auth internally
verify_jwt = false
